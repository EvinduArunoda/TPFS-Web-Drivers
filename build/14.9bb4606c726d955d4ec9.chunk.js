(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"42ce4456e08708409a56":function(e,t,a){"use strict";a.r(t);var n,i=a("8af190b70a6bc55c6f1b"),o=(a("8a2d1b95e05b6a321e74"),a("6938d226fd372a75cbf9")),r=a("b02fe3f80d4238b52f20"),l=a.n(r),d=a("435859b6b76fb67a754a"),s=a.n(d),u=(a("d7dd51e1bf6bfc2c9c3d"),a("2aea235afd5c55b8b19b")),c=a.n(u),f=a("fa8258aa1b1057754c45"),p=a.n(f),v=a("e799c547a20a503b338f"),m=a.n(v),b=a("48b698d02615ccb3fb4f"),h=a.n(b),y=a("0d939196e59ed73c94e6"),g=(a("0bc9fc40db0c3d94f9cf"),a("41069c99334ae719cbe9"));function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,a,i){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===r)t.children=i;else if(r>1){for(var d=new Array(r),s=0;s<r;s++)d[s]=arguments[s+3];t.children=d}return{$$typeof:n,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function _(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var O=S(h.a,{}),P=S("p",{},void 0,"Name"),j=S("label",{},void 0,"Email"),A=S("p",{},void 0,"PhoneNumber"),V=S("p",{},void 0,"Address"),E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,a,n,i=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=k(e);if(t()){var i=k(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return C(this,a)}}(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),N(x(e=i.call(this)),"handleEmailChange",(function(t){var a=t.target,n=!(0===a.value.length),i=a.value.includes("@"),o=a.value.includes(".com"),r=n&&i&&o,l=e.state.add_valid&&r&&e.state.valid&&e.state.phonevalid;e.setState({emailaddress:a.value,emailValid:r,e_l:n,e_v:i,e_v1:o,submitDisabled:!l})})),N(x(e),"onphonenumber",(function(t){var a=p.a.isMobilePhone(t.target.value)&&10===t.target.value.length,n=t.target.value,i=e.state.add_valid&&e.state.emailValid&&e.state.valid&&a;e.setState({phonevalid:a,phonenumber:n,submitDisabled:!i})})),N(x(e),"onSubmit",(function(t){t.preventDefault();var a=e.state,n=a.emailaddress,i=a.name,o=a.phonenumber,r=a.address,l=g.a.firestore().collection("Drivers").doc(e.state.user);null===i&&""===i||void 0===i||(console.log("name"),l.update({name:i})),null===n&&""===n||void 0===n||l.update({emailaddress:n}),null===o&&""===o||void 0===o||l.update({phonenumber:o}),null===r&&""===r||void 0===r||l.update({address:r})})),e.ref=g.a.firestore().collection("Drivers"),e.state={Driver:[],url:"",l_n:"",e_l:!0,e_v:!0,e_v1:!0,add_valid:!0,emailValid:!0,valid:!0,phonevalid:!0,submitDisabled:!1},e}return t=o,(a=[{key:"componentDidMount",value:function(){var e=this,t=[];g.a.auth().onAuthStateChanged((function(a){if(a){var n=a.uid;g.a.firestore().collection("Drivers").doc(a.uid).get().then((function(a){console.log(a.data().Class.inWord);var i=a.data(),o=a.data().name,r=a.data().LicenseNumber;t.push(i),e.setState({Driver:t}),e.setState({user:n,n:o}),g.a.storage().ref("Drivers").child(r+".jpg").getDownloadURL().then((function(t){t&&e.setState({url:t})}))}))}else window.location.href="/login"}))}},{key:"onAddressChange",value:function(e){var t=e.target.value.length>0,a=t&&this.state.emailValid&&this.state.valid&&this.state.phonevalid;this.setState({address:e.target.value,add_valid:t,submitDisabled:!a})}},{key:"onNameChange",value:function(e){var t=e.target.value.length>0,a=this.state.add_valid&&this.state.emailValid&&t&&this.state.phonevalid;this.setState({name:e.target.value,valid:t,submitDisabled:!a})}},{key:"onphoto",value:function(){window.location.href="/app/editphoto"}},{key:"oncancel",value:function(){window.location.href="/app/profile"}},{key:"render",value:function(){var e=this,t=(this.state.Driver,this.props),a=t.classes,n=t.pristine,i=(t.reset,t.submitting);return S("div",{},void 0,S(s.a,{container:!0,spacing:2,direction:"row",justify:"center"},void 0,this.state.Driver.map((function(t){return S(s.a,{item:!0,xs:8,md:6},void 0,S(l.a,{className:a.root},void 0,S(s.a,{item:!0,md:!0,sm:!0,xs:!0},void 0,S(l.a,{className:a.paper},void 0,S("div",{},void 0,S("img",{src:e.state.url||"https://miro.medium.com/max/560/1*MccriYX-ciBniUzRKAUsAw.png",height:"150",weight:"140","border-radius":"50%",alt:"Avatar"}),S(s.a,{item:!0},void 0,S(m.a,{color:"primary",type:"submit",onClick:e.onphoto,"aria-label":"upload picture",component:"span"},void 0,O))))),S(s.a,{},void 0,S("div",{},void 0,P,S(y.Input,{name:"name",id:"name",placeholder:"Your name",label:"name",defaultValue:t.name,onChange:e.onNameChange.bind(e),required:!0,className:a.field}),S("div",{},void 0,!e.state.valid&&S("span",{style:{color:"red",fontSize:"10px"}},void 0,"This Field cannot be empty")))),S("div",{},void 0,j,S(y.Input,{name:"email",placeholder:"Email Field",label:"Email",required:!0,defaultValue:t.emailaddress,onChange:e.handleEmailChange.bind(e),className:a.field}),S("div",{},void 0,!e.state.emailValid&&S("span",{style:{color:"red",fontSize:"10px"}},void 0,"Invalid Email"))),S("div",{},void 0,A,S(y.Input,{name:"phonenumber",id:"phonenumber",type:"text",pattern:"[0-9]*",inputmode:"numeric",placeholder:"Phone Number",defaultValue:t.phonenumber,onChange:e.onphonenumber.bind(e),required:!0,className:a.field}),S("div",{},void 0,!e.state.phonevalid&&S("span",{style:{color:"red",fontSize:"10px"}},void 0,"Invalid PhoneNumber"))),S("div",{},void 0,V,S(y.Input,{name:"address",id:"address",placeholder:"Address",defaultValue:t.address,onChange:e.onAddressChange.bind(e),required:!0,className:a.field}),S("div",{},void 0,!e.state.add_valid&&S("span",{style:{color:"red",fontSize:"10px"}},void 0,"This Field cannot be empty"))),S("div",{},void 0,S(c.a,{disabled:e.state.submitDisabled,onClick:e.onSubmit,variant:"contained",color:"secondary",type:"submit"},void 0,"Update"),S(c.a,{type:"button",disabled:n||i,onClick:e.oncancel},void 0,"Cancel"))))}))))}}])&&_(t.prototype,a),n&&_(t,n),o}(i.Component);t.default=Object(o.withStyles)((function(e){return{root:{flexGrow:1,padding:30},field:{width:"100%",marginBottom:20},fieldBasic:{width:"100%",marginBottom:20,marginTop:10},inlineWrap:{display:"flex",flexDirection:"row"},buttonInit:{margin:e.spacing(4),textAlign:"center"},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary}}}))(E)}}]);